<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>第 6 课：团队协作流程 - Git 故事会</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="../styles/main.css" />
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
  <script defer src="../scripts/main.js"></script>
</head>
<body class="bg-gray-50 min-h-screen">
  <div class="container mx-auto p-4 md:p-8">
    <header class="mb-6 flex items-center justify-between">
      <a href="../index.html" class="text-indigo-600 hover:underline">← 返回首页</a>
      <h1 class="text-2xl md:text-3xl font-bold text-gray-800">第 6 课：团队协作流程</h1>
      <div></div>
    </header>

    <div class="two-cols">
      <div class="left-panel">
        <section>
          <h2>故事场景</h2>
          <div class="character-intro">
            <p>随着团队成员增多，张三提议："我们要把协作流程标准化。每个功能通过 PR 提交，大家一起 Review，质量更稳。"</p>
          </div>
        </section>

        <section>
          <h2>三明治教学法：PR 与 Code Review</h2>

          <div class="step" data-state="pr">
            <h4>步骤一：创建 PR 并合并</h4>
            <p><strong>故事：为什么需要它？</strong></p>
            <p>PR 是团队的讨论场，审查代码、提出建议、统一标准。</p>

            <p><strong>命令解释：它是什么？</strong></p>
            <pre><code># 在 GitHub/GitLab 上创建 PR，完成代码审查后合并</code></pre>
            <p>虽然 PR 不是纯命令行操作，但它与 Git 的分支/合并机制密切相关。</p>

            <p><strong>总结：它解决了什么根本问题？</strong></p>
            <p>通过制度化流程，保证代码质量与一致性，同时促进团队知识共享。</p>
          </div>
        </section>

        <section>
          <h2>知识点总结</h2>
          <ul>
            <li>PR 是在分支基础上进行的协作评审</li>
            <li>合并前的 Review 能显著降低线上缺陷</li>
          </ul>
        </section>

        <div class="mt-8 flex justify-between">
          <a href="./lesson5.html" class="nav-button">← 上一课：时间旅行者</a>
          <a href="./lesson7.html" class="nav-button">下一课：最佳实践 →</a>
        </div>
      </div>
      <div class="right-panel">
        <div id="git-graph-container" class="git-graph"></div>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const gitStates = {
          initial: `gitGraph\n  commit id: \"c1\" msg: \"Initial commit\"\n  branch feature/pr-flow\n  checkout feature/pr-flow\n  commit id: \"c2\" msg: \"Implement feature\"`,
          pr: `gitGraph\n  commit id: \"c1\" msg: \"Initial commit\"\n  branch feature/pr-flow\n  checkout feature/pr-flow\n  commit id: \"c2\" msg: \"Implement feature\"\n  checkout main\n  merge feature/pr-flow`,
        };
        initializeApp(gitStates);
      });
    </script>
  </div>
</body>
</html>